<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Document</title>
</head>
<body>
<h1>欢迎注册新员工</h1>
<form action="in3.php" method="post" onsubmit="return checkall()">
  <table>
      <tr>
          <td>用户名</td>
          <td><input type="text" id="username" name="username" onblur="checkusername()"/><span id="showusername"></span></td>
      </tr>
      <tr>
          <td>密码</td>
          <td><input type="password" id="pwd" name="pwd" onblur="checkpwd()"/><span id="showpwd"></span></td>
      </tr>
      <tr>
          <td>性别</td>
          <td><input type="radio" name="sex" value="男"/>男
              <input type="radio" name="sex" value="女"/>女
          <span id="showsex"></span>
          </td>
      </tr>
      <tr>
          <td>部门</td>
          <td><select name="apart" onchange="checkapart()">
              <option value="">请选择</option>
              <option value="市场部">市场部</option>
              <option value="科研部">科研部</option>
          </select>
              <span id="showapart"></span></td>
      </tr>
      <tr>
          <td>简介</td>
          <td><textarea rows="5" cols="10" id="my" name="my" onkeyup="checkmy()"></textarea><span id="showmy"></span></td>
      </tr>
      <tr>
          <td><input type="submit" value="提交"/></td>
          <td><input type="reset" value="重置"/></td>
      </tr>

  </table>
</form>
<script type="text/javascript">
    function $(id){
        return document.getElementById(id);
    }
    function checkusername(){
        var username=$('username').value;
        if(username==''){
            $('showusername').innerHTML="用户名不能为空";
            $('showusername').style.color="red";
            return false;
        }
        else{
            $('showusername').innerHTML="正确";
            $('showusername').style.color="red";
            return true;
        }
    }
    function checkpwd(){
        var pwd=$('pwd').value;
        if(pwd==''){
            $('showpwd').innerHTML="密码不能为空";
            $('showpwd').style.color="red";
            return false;
        }
        else{
            $('showpwd').innerHTML="正确";
            $('showpwd').style.color="red";
            return true;
        }
    }
    function checkapart(){
        var cla=document.getElementsByName('apart')[0].value;
        if(cla==''){
            $('showapart').innerHTML="部门不能为空";
            $('showapart').style.color="red";
            return false;
        }
        else{
            $('showapart').innerHTML="正确";
            $('showapart').style.color="red";
            return true;
        }
    }
    function checkmy(){
        var my=$('my').value;
        if(my==''){
            $('showmy').innerHTML="简介不能为空";
            $('showmy').style.color="red";
            return false;
        }
        else{
            var my=$('my').value;
            var long=my.length;
            if(long>20){
                $('showmy').innerHTML="简介不能超过20个字";
                $('showmy').style.color="red";
                return false;
            }
            else{
                var i=20-long;
                $('showmy').innerHTML="还剩下"+i+"个字";
                return true;
            }
        }
    }

    function checkall(){
        var sex=document.getElementsByName('sex');
        var str=0
        for(var i=0;i<sex.length;i++){
            if(sex[i].checked==true){
                str=str+1
            }
        }
        if(str<1){
             $('showsex').innerHTML="性别不能为空";
            $('showsex').style.color="red";
            return false;
        }
        else{
            $('showsex').innerHTML="正确";
            $('showsex').style.color="red";
            return true;
        }
        if(checkusername()&checkpwd()&checkapart()&checkmy()){
            return true;
        }
        else{
            return false;
        }
    }
</script>
</body>
</html>