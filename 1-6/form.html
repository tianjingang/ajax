<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Document</title>
</head>
<body>
    <form action="in.php" method="post" onsubmit="return checkAll()">
        <h1>图书管理系统</h1>
        <table border="1">
            <tr>
                <td>图书名字</td>
                <td><input type="text" name="ming" id="ming" onblur="checkming()"/><span id="showming"></span></td>
            </tr>
            <tr>
                <td>图书存量</td>
                <td><input type="text" name="num" id="num" onblur="checknum()"/><span id="shownum"></span></td>
            </tr>
            <tr>
                <td>图书类型</td>
                <td><select name="type" onchange="checktype()">
                    <option value="">请选择</option>
                    <option value="医学">医学</option>
                    <option value="名著">名著</option>
                </select><span id="showtype"></span></td>
            </tr>
            <tr>
                <td>图书简介</td>
                <td><textarea rows="5" cols="10" id="my" name="my" onkeyup="checkmy()"></textarea><span id="showmy"></span></td>
            </tr>
            <tr>
                <td><input type="submit" value="提交"/></td>
                <td><input type="reset" value="重置"/></td>
            </tr>
        </table>
    </form>
<script>
    //自定义函数
    function $(id){
        return document.getElementById(id);
    }
    //验证图书名字
    function checkming(){
        var ming=$('ming').value;
        if(ming==''){
            $('showming').innerHTML="名字不能为空";
            $('showming').style.color="red";
            return false;
        }
        else{
            $('showming').innerHTML="对";
            $('showming').style.color="red";
            return true;
        }
    }
    //验证图书存量
    function checknum(){
        var num=$('num').value;
        if(num==''){
            $('shownum').innerHTML="存量不能为空";
            $('shownum').style.color="red";
            return false;
        }
        else{
            $('shownum').innerHTML="对";
            $('shownum').style.color="red";
            return true;
        }
    }
    //验证图书类型
    function checktype(){
        var type=document.getElementsByName('type')[0].value;
        if(type==''){
            $('showtype').innerHTML="类型不能为空";
            $('showtype').style.color="red";
            return false;
        }
        else{
            $('showtype').innerHTML="对";
            $('showtype').style.color="red";
            return true;
        }
    }
    //验证图书简介
    function checkmy(){
        var my=$('my').value;
        if(my==''){
            $('showmy').innerHTML="简介不能为空";
            $('showmy').style.color="red";
            return false;
        }
        else{
            var my=$('my').value;
            var long=my.length;
            if(long>23){
                $('showmy').innerHTML="简介不能超过23个字";
                $('showmy').style.color="red";
                return false;
            }
            else{
                var i=23-long;
                $('showmy').innerHTML="还剩下"+i+"个字";
                return true;
            }
        }
    }
    //验证所有
    function checkAll(){
        if(checkming()&checknum()&checktype()&checkmy()){
            return true;
        }
        else{
            return false;
        }
    }
</script>
</body>
</html>